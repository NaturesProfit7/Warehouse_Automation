# –¢–ó ‚Äî MVP —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –æ—Å—Ç–∞—Ç–∫–æ–≤ –∑–∞–≥–æ—Ç–æ–≤–æ–∫ –¥–ª—è –∞–¥—Ä–µ—Å–Ω–∏–∫–æ–≤

## 0. –¶–µ–ª—å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –∏ –Ω–∞–¥–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∫—É–ø–æ–∫ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≥–æ—Ç–æ–≤–æ–∫ –¥–ª—è –∞–¥—Ä–µ—Å–Ω–∏–∫–æ–≤ –±–µ–∑ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –∑–∞–∫–∞–∑–∞–º.

**–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤ –∑–∞–≥–æ—Ç–æ–≤–∫–∞—Ö —Å —É—á–µ—Ç–æ–º –±—Ä–∞–∫–∞ –∏ —Å—Ä–æ–∫–æ–≤ –ø–æ—Å—Ç–∞–≤–∫–∏
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–∫—É–ø–∫–∏
- –ü—Ä–æ—Å—Ç–æ–π —É—á–µ—Ç –ø—Ä–∏—Ö–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç
- –ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –æ—Å—Ç–∞—Ç–∫–æ–≤ –≤ Google Sheets

**MVP –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –û–¥–∏–Ω —Å–∫–ª–∞–¥
- –ë–µ–∑ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –∑–∞–∫–∞–∑–∞–º
- –ë–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°
- –ë–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º
- –ë–µ–∑ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏
- –ë–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º —Ä–∞—Å—á–µ—Ç–∞ (–±–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫)

---

## 1. –ë–∏–∑–Ω–µ—Å-–¥–æ–ø—É—â–µ–Ω–∏—è

1. **–ó–∞–∫–∞–∑ –≤ KeyCRM = –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞** (–¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã)
2. **–û–¥–∏–Ω —Å–∫–ª–∞–¥** (–º—É–ª—å—Ç–∏—Å–∫–ª–∞–¥ –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ MVP)
3. –ù–∞ —Ä–∞—Å—Ö–æ–¥ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –≤–ª–∏—è—é—Ç: **–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞**, **–†–∞–∑–º–µ—Ä/—Å–≤–æ–π—Å—Ç–≤–æ**, **–¶–≤–µ—Ç –º–µ—Ç–∞–ª–ª–∞**
4. **–†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –∑–∞–∫–∞–∑–∞–º –Ω–µ—Ç** (FIFO –¥–ª—è –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤)
5. –ë—Ä–∞–∫ —É—á–∏—Ç—ã–≤–∞–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º **5%** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
6. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –≤–∏—Ç—Ä–∏–Ω–∞–º–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
7. **–û–¥–∏–Ω –∑–∞–∫–∞–∑ = –æ–¥–Ω–∞ –∑–∞–≥–æ—Ç–æ–≤–∫–∞** (qty_per_unit = 1)
8. **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤ –±—ã—Ç—å –Ω–µ –º–æ–∂–µ—Ç**
9. **–ò—Å–ø–æ–ª—å–∑—É–µ–º —É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤ –º–∞–ø–ø–∏–Ω–≥–µ** –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã

---

## 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 2.1. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ | –ò–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å |
|----------|-----|--------------|----------|--------------|
| `LEAD_TIME_DAYS` | int | 14 | –°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–≥–æ—Ç–æ–≤–æ–∫ –≤ –¥–Ω—è—Ö | –ß–µ—Ä–µ–∑ Config –ª–∏—Å—Ç |
| `SCRAP_PCT` | float | 0.05 | –ü—Ä–æ—Ü–µ–Ω—Ç –±—Ä–∞–∫–∞ (5%) | –ß–µ—Ä–µ–∑ Config –ª–∏—Å—Ç |
| `TARGET_COVER_DAYS` | int | 14 | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –ß–µ—Ä–µ–∑ Config –ª–∏—Å—Ç |
| `MIN_STOCK_DEFAULT` | int | 100 | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ß–µ—Ä–µ–∑ Master_Blanks |
| `PAR_STOCK_DEFAULT` | int | 300 | –¶–µ–ª–µ–≤–æ–π –æ—Å—Ç–∞—Ç–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ß–µ—Ä–µ–∑ Master_Blanks |

### 2.2. –†–µ–∂–∏–º—ã —Ä–∞—Å—á–µ—Ç–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `USE_DEMAND_METRICS` | bool | false | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø–æ —Å–ø—Ä–æ—Å—É (–æ—Ç–∫–ª—é—á–µ–Ω –≤ MVP) |

### 2.3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `KEYCRM_API_TOKEN` | str | –î–∞ | API —Ç–æ–∫–µ–Ω KeyCRM |
| `KEYCRM_API_URL` | str | –î–∞ | https://api.keycrm.app |
| `KEYCRM_WEBHOOK_SECRET` | str | –î–∞ | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ HMAC –ø–æ–¥–ø–∏—Å–∏ –≤–µ–±—Ö—É–∫–æ–≤ |
| `GSHEETS_ID` | str | –î–∞ | ID Google Sheets –∫–Ω–∏–≥–∏ |
| `GOOGLE_CREDENTIALS_JSON` | str | –î–∞ | Service Account credentials (JSON) |
| `TELEGRAM_BOT_TOKEN` | str | –î–∞ | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ |
| `TELEGRAM_CHAT_ID` | str | –î–∞ | ID —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |
| `TELEGRAM_ALLOWED_USERS` | list | –î–∞ | –°–ø–∏—Å–æ–∫ user_id —Å –¥–æ—Å—Ç—É–ø–æ–º |

### 2.4. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `TIMEZONE` | str | Europe/Kyiv | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å |
| `DAILY_REPORT_TIME` | str | 20:00 | –í—Ä–µ–º—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ |
| `DAILY_SYNC_TIME` | str | 02:00 | –í—Ä–µ–º—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Å–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö |
| `BATCH_SIZE` | int | 100 | –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è Sheets API |
| `MAX_RETRIES` | int | 3 | –ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö |
| `RETRY_DELAY_SECONDS` | int | 1 | –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ retry |
| `WEBHOOK_ENDPOINT` | str | https://blanks.timosh-design.com/webhook/keycrm | Endpoint –¥–ª—è –ø—Ä–∏–µ–º–∞ –≤–µ–±—Ö—É–∫–æ–≤ |

---

## 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### 3.1. SKU –∑–∞–≥–æ—Ç–æ–≤–æ–∫

**–§–æ—Ä–º–∞—Ç:** `BLK-{TYPE}-{SIZE}-{COLOR}`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã SKU:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ UA | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|-------------|----------|
| **–¢–∏–ø—ã** | | | |
| | `BONE` | –∫—ñ—Å—Ç–∫–∞ | –§–æ—Ä–º–∞ –∫–æ—Å—Ç–∏ |
| | `RING` | –±—É–±–ª–∏–∫ | –ö—Ä—É–≥–ª—ã–π —Å –æ—Ç–≤–µ—Ä—Å—Ç–∏–µ–º |
| | `ROUND` | –∫—Ä—É–≥–ª–∏–π | –ö—Ä—É–≥–ª—ã–π —Å–ø–ª–æ—à–Ω–æ–π |
| | `HEART` | —Å–µ—Ä—Ü–µ | –§–∏–≥—É—Ä–Ω—ã–π –≤ —Ñ–æ—Ä–º–µ —Å–µ—Ä–¥—Ü–∞ |
| | `CLOUD` | —Ö–º–∞—Ä–∫–∞ | –§–∏–≥—É—Ä–Ω—ã–π –≤ —Ñ–æ—Ä–º–µ –æ–±–ª–∞–∫–∞ |
| | `FLOWER` | –∫–≤—ñ—Ç–∫–∞ | –§–∏–≥—É—Ä–Ω—ã–π –≤ —Ñ–æ—Ä–º–µ —Ü–≤–µ—Ç–∫–∞ |
| **–†–∞–∑–º–µ—Ä—ã** | | | |
| | `20` | 20 –º–º | –ú–∞–ª–µ–Ω—å–∫–∏–π |
| | `25` | 25 –º–º | –°—Ä–µ–¥–Ω–∏–π |
| | `30` | 30 –º–º | –ë–æ–ª—å—à–æ–π |
| **–¶–≤–µ—Ç–∞** | | | |
| | `GLD` | –∑–æ–ª–æ—Ç–æ | –ó–æ–ª–æ—Ç–æ–π –º–µ—Ç–∞–ª–ª |
| | `SIL` | —Å—Ä—ñ–±–ª–æ | –°–µ—Ä–µ–±—Ä—è–Ω—ã–π –º–µ—Ç–∞–ª–ª |

**–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ SKU (20 –ø–æ–∑–∏—Ü–∏–π):**
```
BLK-BONE-25-GLD    BLK-BONE-25-SIL    BLK-BONE-30-GLD    BLK-BONE-30-SIL
BLK-RING-25-GLD    BLK-RING-25-SIL    BLK-RING-30-GLD    BLK-RING-30-SIL
BLK-ROUND-20-GLD   BLK-ROUND-20-SIL   BLK-ROUND-25-GLD   BLK-ROUND-25-SIL   BLK-ROUND-30-GLD   BLK-ROUND-30-SIL
BLK-HEART-25-GLD   BLK-HEART-25-SIL
BLK-CLOUD-25-GLD   BLK-CLOUD-25-SIL
BLK-FLOWER-25-GLD  BLK-FLOWER-25-SIL
```

### 3.2. –ú–∞–ø–ø–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤ KeyCRM ‚Üí –∑–∞–≥–æ—Ç–æ–≤–∫–∏ (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è)

| product_name | size_property | metal_color | blank_sku | qty_per_unit | active |
|--------------|---------------|-------------|-----------|--------------|--------|
| –ê–¥—Ä–µ—Å–Ω–∏–∫ –±—É–±–ª–∏–∫ | 25 –º–º | –∑–æ–ª–æ—Ç–æ | BLK-RING-25-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ –±—É–±–ª–∏–∫ | 25 –º–º | —Å—Ä—ñ–±–ª–æ | BLK-RING-25-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ –±—É–±–ª–∏–∫ | 30 –º–º | –∑–æ–ª–æ—Ç–æ | BLK-RING-30-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ –±—É–±–ª–∏–∫ | 30 –º–º | —Å—Ä—ñ–±–ª–æ | BLK-RING-30-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ —Ñ—ñ–≥—É—Ä–Ω–∏–π | —Å–µ—Ä—Ü–µ | –∑–æ–ª–æ—Ç–æ | BLK-HEART-25-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ —Ñ—ñ–≥—É—Ä–Ω–∏–π | —Å–µ—Ä—Ü–µ | —Å—Ä—ñ–±–ª–æ | BLK-HEART-25-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ —Ñ—ñ–≥—É—Ä–Ω–∏–π | –∫–≤—ñ—Ç–∫–∞ | –∑–æ–ª–æ—Ç–æ | BLK-FLOWER-25-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ —Ñ—ñ–≥—É—Ä–Ω–∏–π | –∫–≤—ñ—Ç–∫–∞ | —Å—Ä—ñ–±–ª–æ | BLK-FLOWER-25-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ —Ñ—ñ–≥—É—Ä–Ω–∏–π | —Ö–º–∞—Ä–∫–∞ | –∑–æ–ª–æ—Ç–æ | BLK-CLOUD-25-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ —Ñ—ñ–≥—É—Ä–Ω–∏–π | —Ö–º–∞—Ä–∫–∞ | —Å—Ä—ñ–±–ª–æ | BLK-CLOUD-25-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ –∫—ñ—Å—Ç–∫–∞ | –º–∞–ª–µ–Ω—å–∫–∞ | –∑–æ–ª–æ—Ç–æ | BLK-BONE-25-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ –∫—ñ—Å—Ç–∫–∞ | –º–∞–ª–µ–Ω—å–∫–∞ | —Å—Ä—ñ–±–ª–æ | BLK-BONE-25-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ –∫—ñ—Å—Ç–∫–∞ | –≤–µ–ª–∏–∫–∞ | –∑–æ–ª–æ—Ç–æ | BLK-BONE-30-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ –∫—ñ—Å—Ç–∫–∞ | –≤–µ–ª–∏–∫–∞ | —Å—Ä—ñ–±–ª–æ | BLK-BONE-30-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ | 20 –º–º | –∑–æ–ª–æ—Ç–æ | BLK-ROUND-20-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ | 20 –º–º | —Å—Ä—ñ–±–ª–æ | BLK-ROUND-20-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ | 25 –º–º | –∑–æ–ª–æ—Ç–æ | BLK-ROUND-25-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ | 25 –º–º | —Å—Ä—ñ–±–ª–æ | BLK-ROUND-25-SIL | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ | 30 –º–º | –∑–æ–ª–æ—Ç–æ | BLK-ROUND-30-GLD | 1 | true |
| –ê–¥—Ä–µ—Å–Ω–∏–∫ | 30 –º–º | —Å—Ä—ñ–±–ª–æ | BLK-ROUND-30-SIL | 1 | true |

---

## 4. Google Sheets —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–ö–Ω–∏–≥–∞:** `Timosh Blanks Planning`

### 4.1. –õ–∏—Å—Ç: Config
–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|-----|----------|--------|
| parameter | str | –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ | LEAD_TIME_DAYS |
| value | any | –ó–Ω–∞—á–µ–Ω–∏–µ | 14 |
| description | str | –û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏ –≤ –¥–Ω—è—Ö |
| updated_at | datetime | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ | 2025-08-26 14:30:00 |
| updated_by | str | –ö—Ç–æ –∏–∑–º–µ–Ω–∏–ª | user@example.com |

### 4.2. –õ–∏—Å—Ç: Master_Blanks
–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∑–∞–≥–æ—Ç–æ–≤–æ–∫ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ |
|---------|-----|----------|---------------|
| blank_sku | str | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ | –ù–µ—Ç |
| type | str | –¢–∏–ø (BONE/RING/ROUND/HEART/CLOUD/FLOWER) | –ù–µ—Ç |
| size_mm | int | –†–∞–∑–º–µ—Ä –≤ –º–º | –ù–µ—Ç |
| color | str | –¶–≤–µ—Ç (GLD/SIL) | –ù–µ—Ç |
| name_ua | str | –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–æ–º | –î–∞ |
| opening_stock | int | –ù–∞—á–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ | –î–∞ (–æ–¥–∏–Ω —Ä–∞–∑) |
| MIN_STOCK | int | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å | –î–∞ |
| PAR_STOCK | int | –¶–µ–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å | –î–∞ |
| active | bool | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å SKU | –î–∞ |
| notes | str | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è | –î–∞ |

### 4.3. –õ–∏—Å—Ç: Mapping
–ü—Ä–∞–≤–∏–ª–∞ –º–∞–ø–ø–∏–Ω–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ KeyCRM (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ |
|---------|-----|----------|---------------|
| product_name | str | –ù–∞–∑–≤–∞–Ω–∏–µ –≤ KeyCRM (—É–∫—Ä.) | –î–∞ |
| size_property | str | –†–∞–∑–º–µ—Ä/—Å–≤–æ–π—Å—Ç–≤–æ (—É–∫—Ä.) | –î–∞ |
| metal_color | str | –¶–≤–µ—Ç –º–µ—Ç–∞–ª–ª–∞ (—É–∫—Ä.) | –î–∞ |
| blank_sku | str | –ö–æ–¥ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ | –î–∞ |
| qty_per_unit | int | –ö–æ–ª-–≤–æ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É (–≤—Å–µ–≥–¥–∞ 1 –≤ MVP) | –î–∞ |
| active | bool | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞ | –î–∞ |
| priority | int | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-100) | –î–∞ |
| created_at | datetime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | –ù–µ—Ç |

### 4.4. –õ–∏—Å—Ç: Movements
–í—Å–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ —Å–∫–ª–∞–¥—É (append-only)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ò–Ω–¥–µ–∫—Å |
|---------|-----|----------|--------|
| id | str | UUID –¥–≤–∏–∂–µ–Ω–∏—è | Primary |
| datetime | datetime | –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏ | Index |
| type | enum | order/receipt/correction | Index |
| source_type | str | keycrm_webhook/telegram/manual | |
| source_id | str | ID –∏—Å—Ç–æ—á–Ω–∏–∫–∞ | Index |
| blank_sku | str | –ö–æ–¥ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ | Index |
| qty | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (+/-) | |
| balance_after | int | –û—Å—Ç–∞—Ç–æ–∫ –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | |
| user | str | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | |
| note | str | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ | |
| hash | str | SHA256 –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ | Unique |

### 4.5. –õ–∏—Å—Ç: Current_Stock
–¢–µ–∫—É—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è)

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| blank_sku | str | –ö–æ–¥ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ |
| on_hand | int | –¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫ |
| reserved | int | –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ (0 –≤ MVP) |
| available | int | –î–æ—Å—Ç—É–ø–Ω–æ (=on_hand –≤ MVP) |
| last_receipt_date | date | –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–∏—Ö–æ–¥ |
| last_order_date | date | –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞—Å—Ö–æ–¥ |
| avg_daily_usage | float | –°—Ä–µ–¥–Ω–∏–π —Ä–∞—Å—Ö–æ–¥/–¥–µ–Ω—å |
| days_of_stock | int | –î–Ω–µ–π –¥–æ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è |
| last_updated | datetime | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

### 4.6. –õ–∏—Å—Ç: Replenishment_Report
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞–∫—É–ø–∫–∞–º

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| blank_sku | str | –ö–æ–¥ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ |
| on_hand | int | –¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫ |
| min_level | int | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å |
| reorder_point | int | –¢–æ—á–∫–∞ –∑–∞–∫–∞–∑–∞ (=min_level –≤ –ø—Ä–æ—Å—Ç–æ–º —Ä–µ–∂–∏–º–µ) |
| target_level | int | –¶–µ–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å |
| need_order | bool | –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–∫–∞–∑ |
| recommended_qty | int | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∫–æ–ª-–≤–æ |
| urgency | enum | critical/high/medium/low |
| estimated_stockout | date | –ü—Ä–æ–≥–Ω–æ–∑ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è |
| last_calculated | datetime | –í—Ä–µ–º—è —Ä–∞—Å—á–µ—Ç–∞ |

### 4.7. –õ–∏—Å—Ç: Unmapped_Items
–ü–æ–∑–∏—Ü–∏–∏ –±–µ–∑ –º–∞–ø–ø–∏–Ω–≥–∞

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| datetime | datetime | –í—Ä–µ–º—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è |
| order_id | str | ID –∑–∞–∫–∞–∑–∞ KeyCRM |
| line_id | str | ID —Å—Ç—Ä–æ–∫–∏ –∑–∞–∫–∞–∑–∞ |
| product_name | str | –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ |
| properties | json | –í—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞ |
| suggested_sku | str | –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π SKU |
| error_type | str | –¢–∏–ø –æ—à–∏–±–∫–∏ |
| resolution | str | –°—Ç–∞—Ç—É—Å —Ä–µ—à–µ–Ω–∏—è |

### 4.8. –õ–∏—Å—Ç: Audit_Log
–ñ—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| timestamp | datetime | –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è |
| user_id | str | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| user_name | str | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| action | str | –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è |
| entity | str | –û–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è |
| entity_id | str | ID –æ–±—ä–µ–∫—Ç–∞ |
| old_value | json | –°—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| new_value | json | –ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| source | str | –ò—Å—Ç–æ—á–Ω–∏–∫ (telegram/sheets/webhook/system) |
| ip_address | str | IP –∞–¥—Ä–µ—Å (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω) |
| result | str | success/failure |
| error_message | str | –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ |

### 4.9. –õ–∏—Å—Ç: Analytics_Dashboard
–°–≤–æ–¥–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑ –≤ —á–∞—Å)

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –¢—Ä–µ–Ω–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|-------|----------|
| total_skus | 20 | ‚Üí | –í—Å–µ–≥–æ SKU |
| skus_below_min | 2 | ‚Üë | –ü–æ–¥ –º–∏–Ω–∏–º—É–º–æ–º |
| total_value | ‚Ç¥45,000 | ‚Üì | –°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Å—Ç–∞—Ç–∫–æ–≤ |
| avg_turnover | 12.3 | ‚Üë | –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º–æ—Å—Ç—å |
| stockout_risk | 14% | ‚Üë | –†–∏—Å–∫ –¥–µ—Ñ–∏—Ü–∏—Ç–∞ |

---

## 5. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### 5.1. –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
timosh-blanks/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ core/                  # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calculations.py    # –†–∞—Å—á–µ—Ç—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (–ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validators.py      # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py      # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ integrations/          # –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keycrm.py         # KeyCRM API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sheets.py         # Google Sheets –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram.py       # Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ webhook_service.py # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤ KeyCRM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_service.py   # –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stock_service.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ report_service.py # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ alert_service.py  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ webhook/               # Webhook endpoint
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers.py       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py           # HMAC –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.py            # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ bot/                   # Telegram –±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers.py       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py      # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dialogs.py        # –î–∏–∞–ª–æ–≥–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware.py     # Middleware (auth, logging)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ scheduler/             # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jobs.py           # –ó–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ runner.py         # –ó–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.py         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ retry.py          # Retry –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ hash.py           # –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ tests/                     # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ unit/                 # Unit —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ integration/          # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ fixtures/             # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ
‚îú‚îÄ‚îÄ scripts/                   # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ init_sheets.py        # –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Sheets
‚îÇ   ‚îú‚îÄ‚îÄ migrate.py           # –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ backup.py             # –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ
‚îú‚îÄ‚îÄ deploy/                    # –î–µ–ø–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf           # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è webhook endpoint
‚îÇ   ‚îî‚îÄ‚îÄ kubernetes/           # K8s –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ
‚îú‚îÄ‚îÄ docs/                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ user_guide.md        # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ deployment.md        # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îÇ   ‚îî‚îÄ‚îÄ api.md               # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ pyproject.toml           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ Makefile                 # –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ README.md                # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```

### 5.2. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|-----------|------------|--------|-------------|
| **–Ø–∑—ã–∫** | Python | 3.11+ | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π |
| **Webhook API** | FastAPI | 0.104+ | –ë—ã—Å—Ç—Ä—ã–π, async, –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| **–§—Ä–µ–π–º–≤–æ—Ä–∫ –±–æ—Ç–∞** | aiogram | 3.x | –õ—É—á—à–∏–π –¥–ª—è Telegram |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è** | Pydantic | 2.x | –¢–∏–ø–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| **HTTP –∫–ª–∏–µ–Ω—Ç** | httpx | 0.25+ | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, modern |
| **Google Sheets** | gspread | 5.x | –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫** | APScheduler | 3.x | –ü—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | structlog | 23.x | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ |
| **–¢–µ—Å—Ç—ã** | pytest | 7.x | –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è Python |
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** | Docker | 24.x | –ò–∑–æ–ª—è—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π |
| **–í–µ–±-—Å–µ—Ä–≤–µ—Ä** | uvicorn | 0.24+ | ASGI —Å–µ—Ä–≤–µ—Ä –¥–ª—è FastAPI |

### 5.3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### 5.3.1. Webhook Service
- –ü—Ä–∏–µ–º –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç KeyCRM –Ω–∞ endpoint `/webhook/keycrm`
- HMAC –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–∑–∏—Ü–∏–π –Ω–∞ –∑–∞–≥–æ—Ç–æ–≤–∫–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–π —Ä–∞—Å—Ö–æ–¥–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ unmapped items

#### 5.3.2. Sync Service
- –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ 02:00
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –†–µ–∑–µ—Ä–≤–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å–±–æ—è—Ö

#### 5.3.3. Bot Service
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–∏–∞–ª–æ–≥–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–∏—Ö–æ–¥–æ–≤
- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

#### 5.3.4. Scheduler Service
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç –≤ 20:00
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 5.3.5. Stock Calculator (–ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º)
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏–π
- –†–∞—Å—á–µ—Ç —Ç–µ–∫—É—â–∏—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å MIN_STOCK/PAR_STOCK
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## 6. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### 6.1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤ KeyCRM

**–°–æ–±—ã—Ç–∏–µ:** `order.change_order_status` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `confirmed`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏:** HMAC SHA256 —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:** –ü–æ–ª—É—á–µ–Ω–∏–µ order_id –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. **–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–∞:** –ó–∞–ø—Ä–æ—Å –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ KeyCRM API
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∑–∏—Ü–∏–π:** –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–∞ –ø–æ `order_id + line_id`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Ç–æ–≤–∞—Ä–∞
   - –ü–æ–∏—Å–∫ –º–∞–ø–ø–∏–Ω–≥–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –≤ Ukrainian –Ω–∞–∑–≤–∞–Ω–∏—è—Ö
   - –ï—Å–ª–∏ –º–∞–ø–ø–∏–Ω–≥ –Ω–∞–π–¥–µ–Ω:
     - –°–æ–∑–¥–∞–Ω–∏–µ Movement —Å `type='order'` –∏ `source_type='keycrm_webhook'`
     - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Current_Stock
   - –ï—Å–ª–∏ –º–∞–ø–ø–∏–Ω–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω:
     - –ó–∞–ø–∏—Å—å –≤ Unmapped_Items
     - –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—Ä–∞–∑ –≤ —á–∞—Å)
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ó–∞–ø–∏—Å—å –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ Audit_Log

### 6.2. –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–í—Ä–µ–º—è:** 02:00 –ø–æ Europe/Kyiv

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ó–∞–ø—Ä–æ—Å –∑–∞–∫–∞–∑–æ–≤ —Å `status='confirmed'` –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ Movement –∑–∞–ø–∏—Å—è–º–∏
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
4. –û—Ç—á–µ—Ç –æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è—Ö –≤ Telegram
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤

### 6.3. –†–∞—Å—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤ (–ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º)

**–§–æ—Ä–º—É–ª–∞:**
```
on_hand = opening_stock + Œ£(receipts) - Œ£(orders) + Œ£(corrections)
```

**–õ–æ–≥–∏–∫–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:**
```python
if on_hand <= MIN_STOCK:
    need_order = True
    recommended_qty = PAR_STOCK - on_hand
    
    if on_hand <= MIN_STOCK * 0.5:
        urgency = 'critical'
    elif on_hand <= MIN_STOCK * 0.7:
        urgency = 'high'
    else:
        urgency = 'medium'
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- –ï—Å–ª–∏ `on_hand < 0` ‚Üí –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –ø–æ –¥–æ–ø—É—â–µ–Ω–∏—è–º)
- –ï—Å–ª–∏ `on_hand <= MIN_STOCK` ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –∑–∞–∫—É–ø–æ–∫

### 6.4. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–∫—É–ø–æ–∫

| –£—Ä–æ–≤–µ–Ω—å | –£—Å–ª–æ–≤–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|---------|----------|
| **Critical** | `on_hand <= MIN_STOCK * 0.5` | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ |
| **High** | `on_hand <= MIN_STOCK * 0.7` | –í –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç –ø–µ—Ä–≤—ã–º–∏ |
| **Medium** | `on_hand <= MIN_STOCK` | –í –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç |
| **Low** | `on_hand > MIN_STOCK` | –¢–æ–ª—å–∫–æ –≤ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–º –æ—Ç—á–µ—Ç–µ |

---

## 7. Telegram –±–æ—Ç

### 7.1. –ö–æ–º–∞–Ω–¥—ã –∏ –º–µ–Ω—é

#### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (inline keyboard)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ûï –ü—Ä–∏—Ö–æ–¥   ‚îÇ üì¶ –û—Å—Ç–∞—Ç–∫–∏  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìä –û—Ç—á–µ—Ç    ‚îÇ ‚öôÔ∏è –ö–æ—Ä—Ä–µ–∫—Ü–∏—è‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### –ö–æ–º–∞–Ω–¥—ã
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ—Å—Ç—É–ø |
|---------|----------|--------|
| `/start` | –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é | –í—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ |
| `/report` | –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤ | –í—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ |
| `/receipt` | –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏—Ö–æ–¥ | –í—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ |
| `/correction <SKU> <QTY>` | –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ | –í—Å–µ |
| `/cancel` | –û—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ | –í—Å–µ |

### 7.2. –°—Ü–µ–Ω–∞—Ä–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥–∞

```mermaid
stateDiagram-v2
    [*] --> SelectType: /receipt –∞–±–æ –∫–Ω–æ–ø–∫–∞ "‚ûï –ü—Ä–∏—Ö–æ–¥"
    SelectType --> SelectSize: –í–∏–±—ñ—Ä —Ç–∏–ø—É
    SelectSize --> SelectColor: –í–∏–±—ñ—Ä —Ä–æ–∑–º—ñ—Ä—É/–≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ  
    SelectColor --> EnterQty: –í–∏–±—ñ—Ä –∫–æ–ª—å–æ—Ä—É
    EnterQty --> Confirm: –í–≤–µ–¥–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ
    Confirm --> [*]: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (—è–∫—â–æ >100)
    EnterQty --> [*]: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è (—è–∫—â–æ <=100)
```

**–ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞:**
```
User: ‚ûï –ü—Ä–∏—Ö–æ–¥
Bot: –û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –∑–∞–≥–æ—Ç–æ–≤–∫–∏:
     [–ö—ñ—Å—Ç–∫–∞] [–ë—É–±–ª–∏–∫] [–ö—Ä—É–≥–ª–∏–π] [–§—ñ–≥—É—Ä–Ω–∏–π]
     
User: –§—ñ–≥—É—Ä–Ω–∏–π
Bot: –û–±–µ—Ä—ñ—Ç—å —Ñ–æ—Ä–º—É:
     [–°–µ—Ä—Ü–µ] [–ö–≤—ñ—Ç–∫–∞] [–•–º–∞—Ä–∫–∞]
     
User: –°–µ—Ä—Ü–µ
Bot: –û–±–µ—Ä—ñ—Ç—å –∫–æ–ª—ñ—Ä:
     [üü° –ó–æ–ª–æ—Ç–æ] [‚ö™ –°—Ä—ñ–±–ª–æ]
     
User: –ó–æ–ª–æ—Ç–æ
Bot: –í–≤–µ–¥—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–ª—è BLK-HEART-25-GLD:

User: 250
Bot: ‚ö†Ô∏è –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø—Ä–∏—Ö–æ–¥ 250 —à—Ç?
     [‚úÖ –¢–∞–∫] [‚ùå –ù—ñ]
     
User: –¢–∞–∫
Bot: ‚úÖ –î–æ–¥–∞–Ω–æ –ø—Ä–∏—Ö–æ–¥:
     BLK-HEART-25-GLD: +250 —à—Ç
     –ó–∞–ª–∏—à–æ–∫: 420 —à—Ç
```

### 7.3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–ú–µ—Ö–∞–Ω–∏–∑–º:** Whitelist –ø–æ Telegram user_id

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –±–æ—Ç—É
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ `user_id` –≤ `TELEGRAM_ALLOWED_USERS`
3. –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:
   - –°–æ–æ–±—â–µ–Ω–∏–µ: "‚õî –î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ"
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–∫–∏
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
4. –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:
   - –ü–æ–∫–∞–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞

### 7.4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### 7.4.1. –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç (20:00)
```
üì¶ –©–æ–¥–µ–Ω–Ω–∏–π –∑–≤—ñ—Ç ‚Ä¢ 26.08.2025

üî¥ –¢–µ—Ä–º—ñ–Ω–æ–≤–æ –∑–∞–º–æ–≤–∏—Ç–∏ (2):
‚Ä¢ BLK-HEART-25-SIL: 45/100 ‚Üí –∑–∞–º–æ–≤–∏—Ç–∏ 255
‚Ä¢ BLK-RING-30-GLD: 30/100 ‚Üí –∑–∞–º–æ–≤–∏—Ç–∏ 270

üü° –ù–∞–±–ª–∏–∂–∞—é—Ç—å—Å—è –¥–æ –º—ñ–Ω—ñ–º—É–º—É (3):
‚Ä¢ BLK-ROUND-25-SIL: 112/100
‚Ä¢ BLK-BONE-30-GLD: 108/100
‚Ä¢ BLK-CLOUD-25-SIL: 105/100

‚úÖ –î–æ—Å—Ç–∞—Ç–Ω—ñ–π –∑–∞–ø–∞—Å: 15 –ø–æ–∑–∏—Ü—ñ–π

üìä –î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç: /report
```

#### 7.4.2. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
```
üö® –ö–†–ò–¢–ò–ß–ù–û! –ó–∞–ª–∏—à–æ–∫ –º–µ–Ω—à–µ 50%!
BLK-FLOWER-25-GLD: 35/100 —à—Ç
–¢–µ—Ä–º—ñ–Ω–æ–≤–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–º–æ–≤–∏—Ç–∏ 265 —à—Ç!
```

#### 7.4.3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± unmapped –ø–æ–∑–∏—Ü–∏—è—Ö (—Ä–∞–∑ –≤ —á–∞—Å)
```
‚ö†Ô∏è –ó–Ω–∞–π–¥–µ–Ω–æ –ø–æ–∑–∏—Ü—ñ—ó –±–µ–∑ –º–∞–ø–ø—ñ–Ω–≥—É (3)

1. –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è #12345
   –¢–æ–≤–∞—Ä: "–ê–¥—Ä–µ—Å–Ω–∏–∫ –∑—ñ—Ä–∫–∞"
   –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ: 25–º–º, –∑–æ–ª–æ—Ç–æ
   
2. –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è #12346
   –¢–æ–≤–∞—Ä: "–ê–¥—Ä–µ—Å–Ω–∏–∫ —Ñ—ñ–≥—É—Ä–Ω–∏–π"
   –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ: —Ä–æ–º–±, —Å—Ä—ñ–±–ª–æ

–î–æ–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ –ª–∏—Å—Ç Mapping
```

---

## 8. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### 8.1. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

| –¢–∏–ø –æ—à–∏–±–∫–∏ | –°—Ç—Ä–∞—Ç–µ–≥–∏—è | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
|------------|-----------|-------------|-------------|
| **Webhook –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** | Fallback –Ω–∞ daily sync | –ü–æ—Å–ª–µ 3 —Å–±–æ–µ–≤ | ERROR |
| **API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** | Retry 3x —Å backoff | –ü–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫ | ERROR |
| **Sheets –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** | –õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ | ERROR |
| **–î—É–±–ª–∏–∫–∞—Ç –¥–≤–∏–∂–µ–Ω–∏—è** | –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å | –ù–µ—Ç | INFO |
| **Unmapped item** | –ó–∞–ø–∏—Å—å –≤ –ª–∏—Å—Ç | –†–∞–∑ –≤ —á–∞—Å | WARNING |
| **HMAC –ø—Ä–æ–≤–µ—Ä–∫–∞** | –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ | WARNING |
| **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥** | –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é | –í –¥–∏–∞–ª–æ–≥–µ | INFO |
| **–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç API** | –ü–∞—É–∑–∞ –¥–æ —Å–±—Ä–æ—Å–∞ | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É | WARNING |

### 8.2. Retry –ø–æ–ª–∏—Ç–∏–∫–∞

```python
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è retry
MAX_RETRIES = 3
BASE_DELAY = 1  # —Å–µ–∫—É–Ω–¥–∞
MAX_DELAY = 60  # —Å–µ–∫—É–Ω–¥
BACKOFF_FACTOR = 2

# –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫:
- KeyCRM API calls
- Google Sheets operations  
- Telegram message sending
```

### 8.3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤

#### 8.3.1. –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–µ–±—Ö—É–∫–æ–≤
1. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Å–≤–µ—Ä–∫—É
2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –ü–æ–ø—ã—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
4. –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ - –≤–æ–∑–≤—Ä–∞—Ç –∫ webhook —Ä–µ–∂–∏–º—É

#### 8.3.2. –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Google Sheets
1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –ª–æ–∫–∞–ª—å–Ω—É—é SQLite
2. –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –≤ –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
3. –ü–æ–ø—ã—Ç–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
4. –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ - batch upload –æ—á–µ—Ä–µ–¥–∏

#### 8.3.3. –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ KeyCRM API
1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ–±—Ö—É–∫–æ–≤ –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏
2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ 3 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
3. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏

### 8.4. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π

**–ú–µ—Ö–∞–Ω–∏–∑–º:** SHA256 —Ö–µ—à –æ—Ç –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª–µ–π

**–î–ª—è –¥–≤–∏–∂–µ–Ω–∏–π:**
```
hash = SHA256(source_id + blank_sku + qty + type + datetime)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –ü–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é - –ø–æ–∏—Å–∫ –ø–æ hash –≤ Movements
2. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω - –ø—Ä–æ–ø—É—Å–∫ –æ–ø–µ—Ä–∞—Ü–∏–∏
3. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏

---

## 9. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### 9.1. –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ê–ª–µ—Ä—Ç –µ—Å–ª–∏ |
|---------|----------|------------|
| **webhook_success_rate** | % —É—Å–ø–µ—à–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫ –≤–µ–±—Ö—É–∫–æ–≤ | < 95% |
| **sync_success_rate** | % —É—Å–ø–µ—à–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π | < 95% |
| **api_response_time** | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API | > 5 —Å–µ–∫ |
| **webhook_response_time** | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–∞ | > 2 —Å–µ–∫ |
| **unmapped_items_count** | –ü–æ–∑–∏—Ü–∏–π –±–µ–∑ –º–∞–ø–ø–∏–Ω–≥–∞ | > 10 |
| **skus_below_critical** | SKU —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∑–∫–∏–º –æ—Å—Ç–∞—Ç–∫–æ–º | > 0 |
| **bot_response_time** | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞ | > 2 —Å–µ–∫ |
| **daily_movements_count** | –î–≤–∏–∂–µ–Ω–∏–π –≤ –¥–µ–Ω—å | < 10 –∏–ª–∏ > 1000 |

### 9.2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–æ—Ä–º–∞—Ç:** –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON

**–£—Ä–æ–≤–Ω–∏:**
- **DEBUG:** –î–µ—Ç–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–π (–≤ dev —Ä–µ–∂–∏–º–µ)
- **INFO:** –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **WARNING:** –ù–µ–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **ERROR:** –û—à–∏–±–∫–∏ —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è
- **CRITICAL:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏

**–†–æ—Ç–∞—Ü–∏—è:** –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è, —Ö—Ä–∞–Ω–µ–Ω–∏–µ 30 –¥–Ω–µ–π

### 9.3. Health checks

| Endpoint | –ü—Ä–æ–≤–µ—Ä–∫–∞ | –ß–∞—Å—Ç–æ—Ç–∞ |
|----------|----------|---------|
| `/health` | –ë–∞–∑–æ–≤–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å | 1 –º–∏–Ω |
| `/ready` | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ | 1 –º–∏–Ω |
| `/webhook/keycrm/test` | –¢–µ—Å—Ç webhook endpoint | –ü–æ –∑–∞–ø—Ä–æ—Å—É |

---

## 10. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 10.1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-------|----------|
| **KeyCRM Webhooks** | HMAC SHA256 | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º |
| **KeyCRM API** | Bearer Token | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ |
| **Google Sheets** | Service Account | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–Ω–∏–≥–µ |
| **Telegram Bot** | User ID whitelist | –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö ID |
| **Admin —Ñ—É–Ω–∫—Ü–∏–∏** | –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ | –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |

### 10.2. –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

- –í—Å–µ —Ç–æ–∫–µ–Ω—ã –∏ credentials –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- HTTPS –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- HMAC –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –≤–µ–±—Ö—É–∫–æ–≤
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –±–µ–∑ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Google Sheets

### 10.3. Rate limiting

| –°–µ—Ä–≤–∏—Å | –õ–∏–º–∏—Ç | –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ |
|--------|-------|-------------------------|
| **KeyCRM API** | 100/–º–∏–Ω | –ü–∞—É–∑–∞ –¥–æ —Å–±—Ä–æ—Å–∞ |
| **Google Sheets** | 100/100—Å–µ–∫ | –ë–∞—Ç—á–∏–Ω–≥ –æ–ø–µ—Ä–∞—Ü–∏–π |
| **Telegram** | 30/—Å–µ–∫ | –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π |
| **Webhook endpoint** | 1000/—á–∞—Å | Rate limit –ø–æ IP |

---

## 11. Deployment –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### 11.1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ú–∏–Ω–∏–º—É–º | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
|----------|---------|---------------|
| **CPU** | 1 core | 2 cores |
| **RAM** | 512 MB | 1 GB |
| **Disk** | 5 GB | 10 GB |
| **OS** | Ubuntu 20.04+ | Ubuntu 22.04 |
| **Docker** | 20.10+ | Latest stable |
| **Network** | 10 Mbps | 100 Mbps |
| **SSL** | Let's Encrypt | –î–ª—è webhook endpoint |

### 11.2. Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```yaml
services:
  webhook:
    image: timosh-blanks:latest
    command: uvicorn src.webhook.app:app --host 0.0.0.0 --port 8000
    ports:
      - "8000:8000"
    environment:
      - ENV_FILE=.env
    volumes:
      - ./data:/app/data
      - ./logs:/app/logs
    restart: unless-stopped
    
  scheduler:
    image: timosh-blanks:latest
    command: python -m src.scheduler.runner
    environment:
      - ENV_FILE=.env
    volumes:
      - ./data:/app/data
      - ./logs:/app/logs
    restart: unless-stopped
    
  bot:
    image: timosh-blanks:latest  
    command: python -m src.bot
    environment:
      - ENV_FILE=.env
    volumes:
      - ./data:/app/data
      - ./logs:/app/logs
    restart: unless-stopped

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./deploy/nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/ssl
    restart: unless-stopped
```

### 11.3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# KeyCRM
KEYCRM_API_TOKEN=your_token_here
KEYCRM_API_URL=https://api.keycrm.app
KEYCRM_WEBHOOK_SECRET=your_webhook_secret

# Google Sheets
GSHEETS_ID=1234567890abcdef
GOOGLE_CREDENTIALS_JSON={"type":"service_account"...}

# Telegram
TELEGRAM_BOT_TOKEN=123456:ABC-DEF
TELEGRAM_CHAT_ID=-1001234567890
TELEGRAM_ALLOWED_USERS=123456789,987654321
TELEGRAM_ADMIN_USERS=123456789

# Webhook
WEBHOOK_ENDPOINT=https://blanks.timosh-design.com/webhook/keycrm

# Planning
LEAD_TIME_DAYS=14
SCRAP_PCT=0.05
TARGET_COVER_DAYS=14
MIN_STOCK_DEFAULT=100
PAR_STOCK_DEFAULT=300

# Schedule
TIMEZONE=Europe/Kyiv
DAILY_REPORT_TIME=20:00
DAILY_SYNC_TIME=02:00

# Mode (Simple mode only in MVP)
USE_DEMAND_METRICS=false

# Technical
LOG_LEVEL=INFO
LOG_FORMAT=json
MAX_RETRIES=3
BATCH_SIZE=100
```

---

## 12. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (1 –¥–µ–Ω—å)
- [x] –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud Service Account
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ Google Sheets –∫–Ω–∏–≥–∏ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ª–∏—Å—Ç–∞–º–∏ (20 SKU)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–¥–æ–º–µ–Ω–∞ blanks.timosh-design.com
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- [ ] –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Pydantic

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (2 –¥–Ω—è)
- [ ] –ö–ª–∏–µ–Ω—Ç Google Sheets —Å retry –ª–æ–≥–∏–∫–æ–π
- [ ] –ö–ª–∏–µ–Ω—Ç KeyCRM API —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- [ ] Webhook endpoint –Ω–∞ FastAPI —Å HMAC –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- [ ] –ë–∞–∑–æ–≤—ã–π Telegram –±–æ—Ç —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞

### –≠—Ç–∞–ø 3: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (2 –¥–Ω—è)
- [ ] –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Movement, Stock, SKU) —Å —É–∫—Ä–∞–∏–Ω—Å–∫–∏–º –º–∞–ø–ø–∏–Ω–≥–æ–º
- [ ] –°–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ KeyCRM
- [ ] –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ—Å—Ç–∞—Ç–∫–æ–≤ (–ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º MIN/PAR)
- [ ] –°–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤

### –≠—Ç–∞–ø 4: Telegram –±–æ—Ç (2 –¥–Ω—è)
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤ –Ω–∞ aiogram 3 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–≥–æ—Ç–æ–≤–æ–∫
- [ ] Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–≤–∫–ª—é—á–∞—è —Ñ–∏–≥—É—Ä–Ω—ã–µ —Ñ–æ—Ä–º—ã)
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ callback
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ –∏ error handling
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –≠—Ç–∞–ø 5: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (1 –¥–µ–Ω—å)
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ APScheduler
- [ ] Job –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ (20:00)
- [ ] Job –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Å–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö (02:00)
- [ ] –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ health checks

### –≠—Ç–∞–ø 6: Deployment (1 –¥–µ–Ω—å)
- [ ] Dockerfile –∏ docker-compose —Å nginx
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ KeyCRM webhook –Ω–∞ blanks.timosh-design.com
- [ ] CI/CD pipeline (GitHub Actions)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ backup
- [ ] –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS Ubuntu

### –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ (1 –¥–µ–Ω—å)
- [ ] E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å –≤–µ–±—Ö—É–∫–∞–º–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö 20 SKU
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ò—Ç–æ–≥–æ: 10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π**

---

## 13. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

### 13.1. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ö—Ä–∏—Ç–µ—Ä–∏–π | –ú–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ |
|------------|----------|----------------|
| Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞ | 100% –≤–µ–±—Ö—É–∫–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä—å | –õ–æ–≥ webhook endpoint |
| –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è | 0 –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –¥–≤–∏–∂–µ–Ω–∏–π | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ hash |
| –ú–∞–ø–ø–∏–Ω–≥ —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π | >95% —É—Å–ø–µ—à–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ | –û—Ç—á–µ—Ç Unmapped |
| –†–∞—Å—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤ (–ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º) | –¢–æ—á–Ω–æ—Å—Ç—å 100% | –°–≤–µ—Ä–∫–∞ —Å —Ä—É—á–Ω—ã–º —Ä–∞—Å—á–µ—Ç–æ–º |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ 20 SKU | –í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è | –¢–µ—Å—Ç –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–≥–æ—Ç–æ–≤–æ–∫ |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | –î–æ—Å—Ç–∞–≤–∫–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 1 –º–∏–Ω | –õ–æ–≥ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ |
| Telegram –±–æ—Ç | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ <2 —Å–µ–∫ | –ó–∞–º–µ—Ä response time |

### 13.2. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ö—Ä–∏—Ç–µ—Ä–∏–π | –ú–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ |
|------------|----------|----------------|
| –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å webhook | >99.5% uptime | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–∞ <1 —Å–µ–∫ | –ë–µ–Ω—á–º–∞—Ä–∫ |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | –î–æ 50 SKU –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | –¢–µ—Å—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 0 —É—Ç–µ—á–µ–∫ credentials, HMAC —Ä–∞–±–æ—Ç–∞–µ—Ç | Security audit |
| –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ | <5 –º–∏–Ω –ø–æ—Å–ª–µ —Å–±–æ—è | Disaster recovery test |

### 13.3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] README —Å quick start
- [ ] –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (UA)
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ KeyCRM webhook
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ deployment
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ API –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] Troubleshooting guide

---

## 14. –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
|------|-------------|---------|-----------|---------------|
| **–ò–∑–º–µ–Ω–µ–Ω–∏–µ API KeyCRM** | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ | Dev team |
| **–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–µ–±—Ö—É–∫–æ–≤** | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | Fallback –Ω–∞ daily sync | Dev team |
| **–õ–∏–º–∏—Ç—ã Google Sheets** | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ë–∞—Ç—á–∏–Ω–≥, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, fallback –Ω–∞ SQLite | Dev team |
| **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥** | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –í–∞–ª–∏–¥–∞—Ü–∏—è, —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, –∞–ª–µ—Ä—Ç—ã | Business |
| **–û—à–∏–±–∫–∏ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö** | –ù–∏–∑–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | –¢–µ—Å—Ç—ã, code review, staging —Å—Ä–µ–¥–∞ | Dev + QA |
| **HMAC –∞—Ç–∞–∫–∏** | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | –°–∏–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | DevOps |
| **–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞** | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API | PM |
| **–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö** | –ù–∏–∑–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | Backup, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Sheets | DevOps |

---

## 15. –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### Phase 1.1 (–ú–µ—Å—è—Ü 2)
- [ ] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø–æ —Å–ø—Ä–æ—Å—É (SMA, EMA)
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∞—à–±–æ—Ä–¥—ã –≤ Google Sheets
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤ –≤ PDF
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º –∑–∞–≥–æ—Ç–æ–≤–æ–∫
- [ ] –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞

### Phase 1.2 (–ú–µ—Å—è—Ü 3)
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ React –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞–ø–ø–∏–Ω–≥–æ–º
- [ ] REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- [ ] –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Å ML (Prophet)
- [ ] ABC/XYZ –∞–Ω–∞–ª–∏–∑
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∫–ª–∞–¥–æ–≤

### Phase 2.0 (–ú–µ—Å—è—Ü—ã 4-6)
- [ ] –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–∫–∞–∑—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º
- [ ] –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ –∑–∞–∫–∞–∑—ã
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] BI –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

---

## 16. –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

### –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **Product Owner:** [TBD]
- **Tech Lead:** [TBD]
- **QA Lead:** [TBD]

### –†–µ—Å—É—Ä—Å—ã
- **Repository:** github.com/[org]/timosh-blanks
- **Webhook endpoint:** https://blanks.timosh-design.com/webhook/keycrm
- **Documentation:** docs.timosh-blanks.com
- **Production:** blanks.timosh-design.com

### –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã
- [KeyCRM API Docs](https://api.keycrm.app/docs)
- [KeyCRM Webhook Setup](https://help.keycrm.app/uk/process-automation-api-and-more/webhook-setup-in-keycrm)
- [Google Sheets API](https://developers.google.com/sheets/api)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [aiogram Documentation](https://docs.aiogram.dev)

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A: –°–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤

| –¢–µ—Ä–º–∏–Ω | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ |
|--------|-------------|
| **SKU** | Stock Keeping Unit - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ |
| **Movement** | –î–≤–∏–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–ø—Ä–∏—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥/–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞) |
| **MIN_STOCK** | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –æ—Å—Ç–∞—Ç–∫–æ–≤ |
| **PAR_STOCK** | –¶–µ–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –æ—Å—Ç–∞—Ç–∫–æ–≤ |
| **Webhook** | HTTP callback –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö |
| **HMAC** | Hash-based Message Authentication Code |
| **Unmapped** | –ü–æ–∑–∏—Ü–∏–∏ –±–µ–∑ –ø—Ä–∞–≤–∏–ª–∞ –º–∞–ø–ø–∏–Ω–≥–∞ |
| **–ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º** | –†–∞—Å—á–µ—Ç –ø–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º MIN/PAR —É—Ä–æ–≤–Ω—è–º |

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ B: –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö KeyCRM webhook

```json
{
  "event": "order.change_order_status",
  "context": {
    "id": 12345,
    "status": "confirmed",
    "client_id": 88282,
    "grand_total": 450.00,
    "created_at": "2025-08-26T10:30:00Z",
    "updated_at": "2025-08-26T10:35:00Z"
  }
}
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ C: –ü—Ä–∏–º–µ—Ä—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ:**
```
üö® –ö–†–ò–¢–ò–ß–ù–û! –ó–∞–ª–∏—à–æ–∫ –º–µ–Ω—à–µ 50%!
BLK-HEART-25-GLD: 35/100 —à—Ç
–¢–µ—Ä–º—ñ–Ω–æ–≤–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–º–æ–≤–∏—Ç–∏ 265 —à—Ç!
```

**–ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ:**
```
üì¶ –©–æ–¥–µ–Ω–Ω–∏–π –∑–≤—ñ—Ç ‚Ä¢ 26.08.2025 20:00

üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ –Ω–∏–∑—å–∫–∏–π —Ä—ñ–≤–µ–Ω—å (2):
‚Ä¢ BLK-FLOWER-25-SIL: 45 ‚Üí –∑–∞–º–æ–≤–∏—Ç–∏ 255
‚Ä¢ BLK-CLOUD-25-GLD: 30 ‚Üí –∑–∞–º–æ–≤–∏—Ç–∏ 270

üü° –ü–æ—Ç—Ä–µ–±—É—é—Ç—å —É–≤–∞–≥–∏ (3):
‚Ä¢ BLK-ROUND-25-SIL: 112 (7 –¥–Ω—ñ–≤)
‚Ä¢ BLK-BONE-30-GLD: 108 (6 –¥–Ω—ñ–≤)  
‚Ä¢ BLK-RING-25-SIL: 105 (5 –¥–Ω—ñ–≤)

‚úÖ –î–æ—Å—Ç–∞—Ç–Ω—ñ–π –∑–∞–ø–∞—Å: 15 SKU

–î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç: /report
```

**–£—Å–ø–µ—à–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è:**
```
‚úÖ –ü—Ä–∏—Ö–æ–¥ —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!

SKU: BLK-HEART-25-GLD
–ö—ñ–ª—å–∫—ñ—Å—Ç—å: +200 —à—Ç
–ó–∞–ª–∏—à–æ–∫: 520 —à—Ç
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: –Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
–ß–∞—Å: 26.08.2025 14:30
```

**Unmapped –ø–æ–∑–∏—Ü–∏—è:**
```
‚ö†Ô∏è –ù–æ–≤–∞ –ø–æ–∑–∏—Ü—ñ—è –±–µ–∑ –º–∞–ø–ø—ñ–Ω–≥—É

–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è #12345
–¢–æ–≤–∞—Ä: "–ê–¥—Ä–µ—Å–Ω–∏–∫ –∑—ñ—Ä–∫–∞ –ø—Ä–µ–º—ñ—É–º"
–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ: {"size": "25–º–º", "metal_color": "–∑–æ–ª–æ—Ç–æ"}
–ü—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏–π SKU: BLK-STAR-25-GLD

–î–æ–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –≤ –ª–∏—Å—Ç Mapping:
‚Ä¢ product_name: –ê–¥—Ä–µ—Å–Ω–∏–∫ –∑—ñ—Ä–∫–∞ –ø—Ä–µ–º—ñ—É–º
‚Ä¢ size_property: 25–º–º  
‚Ä¢ metal_color: –∑–æ–ª–æ—Ç–æ
‚Ä¢ blank_sku: BLK-STAR-25-GLD
```

---

*–î–æ–∫—É–º–µ–Ω—Ç –≤–µ—Ä—Å—ñ—ó 2.0 –≤—ñ–¥ 26.08.2025*